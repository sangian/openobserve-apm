# =============================================================================
# OpenObserve APM Configuration
# =============================================================================
# 
# QUICK START:
#   1. Run ./setup.sh and select your VPS size (4gb/8gb/12gb/24gb)
#   2. Edit this file to configure domains and credentials
#   3. Run ./start.sh
#
# The setup script will append resource presets to the end of this file.
# =============================================================================

# =============================================================================
# DOMAIN CONFIGURATION (REQUIRED)
# =============================================================================
# Your domain for OpenObserve UI and API
OPENOBSERVE_DOMAIN=observe.yourdomain.com

# Your domain for Traefik dashboard (optional, for monitoring)
TRAEFIK_DOMAIN=traefik.yourdomain.com

# OpenTelemetry ingestion subdomains
# OTEL_DOMAIN: OTLP/HTTP endpoint (port 443)
# OTEL_GRPC_DOMAIN: OTLP/gRPC endpoint (port 443 via Traefik TCP)
# If not set, defaults to otel.<OPENOBSERVE_DOMAIN> and otel-grpc.<OPENOBSERVE_DOMAIN>
OTEL_DOMAIN=otel.yourdomain.com
OTEL_GRPC_DOMAIN=otel-grpc.yourdomain.com

# =============================================================================
# SSL CONFIGURATION (REQUIRED)
# =============================================================================
# Email for Let's Encrypt SSL certificates
LETSENCRYPT_EMAIL=your-email@example.com

# =============================================================================
# OPENOBSERVE AUTHENTICATION (REQUIRED)
# =============================================================================
# Root user credentials for OpenObserve (built-in auth)
ZO_ROOT_USER_EMAIL=admin@yourdomain.com
ZO_ROOT_USER_PASSWORD=ChangeMe_StrongPassword123!

# =============================================================================
# TRAEFIK DASHBOARD AUTHENTICATION (REQUIRED)
# =============================================================================
# Generate with: htpasswd -nb admin yourpassword
# Or use the interactive helper: ./generate-password.sh
# 
# Format: user:$apr1$hashedpassword
# IMPORTANT: Double $$ in docker-compose (escape)
# Example below uses admin:admin (CHANGE THIS!)
TRAEFIK_DASHBOARD_USERS=admin:$$apr1$$KqM8AvLQ$$WwbR6EKdxRaXYmievH.cJ0

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Storage mode: "disk" (default) or "s3"
ZO_LOCAL_MODE_STORAGE=disk

# Data directory (used in disk mode, also used for WAL/cache in s3 mode)
ZO_DATA_DIR=/data

# S3/Object Storage Configuration (only needed if ZO_LOCAL_MODE_STORAGE=s3)
# Works with AWS S3, Contabo Object Storage, MinIO, or any S3-compatible storage
# ZO_S3_SERVER_URL=https://eu2.contabostorage.com
# ZO_S3_REGION_NAME=EU
# ZO_S3_ACCESS_KEY=your-access-key
# ZO_S3_SECRET_KEY=your-secret-key
# ZO_S3_BUCKET_NAME=openobserve

# =============================================================================
# TIMEZONE
# =============================================================================
TZ=UTC

# =============================================================================
# LOGGING
# =============================================================================
# Traefik log level: DEBUG, INFO, WARN, ERROR
TRAEFIK_LOG_LEVEL=INFO

# OpenObserve log level: info, debug, warn, error
RUST_LOG=info

# =============================================================================
# TELEMETRY
# =============================================================================
# Disable OpenObserve anonymous telemetry
ZO_TELEMETRY_ENABLED=false

# =============================================================================
# DATA RETENTION
# =============================================================================
# Data retention in days (0 = unlimited)
ZO_COMPACT_DATA_RETENTION_DAYS=30

# =============================================================================
# RESOURCE CONFIGURATION (AUTO-GENERATED)
# =============================================================================
# The following variables are automatically set by ./setup.sh
# based on your selected VPS preset. You can also set them manually.
#
# To regenerate, run: ./setup.sh [4gb|8gb|12gb|24gb]
#
# --- OpenObserve ---
# OPENOBSERVE_MEM_LIMIT=2g
# OPENOBSERVE_MEM_RESERVATION=1g
# OPENOBSERVE_CPUS=2.0
# ZO_MEM_TABLE_MAX_SIZE=1073741824
# ZO_COMPACT_MAX_FILE_SIZE=268435456
# ZO_COMPACT_INTERVAL=60
# ZO_DATA_WAL_MEMORY_MODE_ENABLED=false
#
# --- Traefik ---
# TRAEFIK_MEM_LIMIT=256m
# TRAEFIK_MEM_RESERVATION=128m
# TRAEFIK_CPUS=0.5
# =============================================================================
